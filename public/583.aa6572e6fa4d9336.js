"use strict";(self.webpackChunkloans_ui=self.webpackChunkloans_ui||[]).push([[583],{2583:(T,s,u)=>{u.r(s),u.d(s,{AccountsModule:()=>C});var a=u(6895),g=u(2045),p=u(7023),m=u(7060),e=u(8256),h=u(7713),i=u(433);function M(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.qZA(),e.TgZ(20,"td"),e._uU(21),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.qZA(),e.TgZ(24,"td"),e._uU(25),e.qZA(),e.TgZ(26,"td"),e._uU(27),e.qZA(),e.TgZ(28,"td")(29,"button",37),e.NdJ("click",function(){const c=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.openAddEditModal(c._id))}),e._uU(30,"Edit"),e.qZA(),e._uU(31,"\xa0\xa0 "),e.TgZ(32,"button",38),e.NdJ("click",function(){const c=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.deleteAccount(c._id))}),e._uU(33,"Delete"),e.qZA()()()}if(2&o){const t=d.$implicit;e.xp6(2),e.Oqu(t.fullName),e.xp6(2),e.Oqu(t.fathersName),e.xp6(2),e.Oqu(t.mothersName),e.xp6(2),e.Oqu(e.xi3(9,13,t.dob,"dd/MM/yyyy")),e.xp6(3),e.Oqu(t.country),e.xp6(2),e.Oqu(t.state),e.xp6(2),e.Oqu(t.city),e.xp6(2),e.Oqu(t.address),e.xp6(2),e.Oqu(t.pincode),e.xp6(2),e.Oqu(t.phoneNumber),e.xp6(2),e.Oqu(t.educationLevel),e.xp6(2),e.Oqu(t.proofOfIdentification),e.xp6(2),e.Oqu(t.accountType)}}function _(o,d){if(1&o&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&o){const t=d.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function A(o,d){if(1&o&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&o){const t=d.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function v(o,d){if(1&o&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&o){const t=d.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}const Z=function(o){return{display:o}},b=[{path:"",component:(()=>{class o{constructor(t){this.accountService=t,this.viewModel=new p.u}ngOnInit(){this.loadAccounts()}closePopup(){this.viewModel.displayStyle="none"}openAddEditModal(t){null==t?(this.viewModel.editMode=!1,this.viewModel.accountsObj=new m.fj):(this.viewModel.editMode=!0,this.selectAccount(t)),this.viewModel.displayStyle="block"}loadAccounts(){this.accountService.getAccounts().subscribe(t=>{this.viewModel.accountsListL=t})}selectAccount(t){this.accountService.getAccountById(t).subscribe(n=>{console.log("Account details data:",n),this.viewModel.accountsObj=n})}saveAccount(){this.viewModel.accountsObj._id?this.accountService.updateAccount(this.viewModel.accountsObj._id,this.viewModel.accountsObj).subscribe(()=>{alert("Account Updated SuccessFully!"),this.viewModel.displayStyle="none",this.loadAccounts()},n=>{console.error("Error updating Account:",n)}):this.accountService.createAccount(this.viewModel.accountsObj).subscribe(n=>{alert("Account Added successfully!"),this.loadAccounts(),this.viewModel.displayStyle="none"},n=>{console.error("Error creating Account:",n)})}deleteAccount(t){this.accountService.deleteAccount(t).subscribe(()=>{this.loadAccounts()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(h.B))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-accounts"]],decls:108,vars:21,consts:[[1,"container"],[1,"row"],[1,"col-6"],[1,"col-6","text-end"],[1,"btn","btn-success",3,"click"],[1,"col-lg-12","table-container"],[1,"table"],[1,"text-center"],[4,"ngFor","ngForOf"],["tabindex","-1","role","dialog",1,"modal","expandIn",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"col-lg-11","col-md-11","col-sm-11","col-11"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"col-lg-6","col-md-6","col-sm-6","p-2"],[1,"form-outline"],["type","text","placeholder","Enter Full Name","data-mdb-showcounter","true","maxlength","20",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter Fathers Name","data-mdb-showcounter","true","maxlength","20",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter Mothers Name","data-mdb-showcounter","true","maxlength","20",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter Country Name","data-mdb-showcounter","true","maxlength","20",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter State Name","data-mdb-showcounter","true","maxlength","20",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter City Name","data-mdb-showcounter","true","maxlength","20",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter Permenant Address","data-mdb-showcounter","true","maxlength","20",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter PINCODE","data-mdb-showcounter","true","maxlength","20",1,"form-control",3,"ngModel","ngModelChange"],["type","date","placeholder","Enter D-O-B","data-mdb-showcounter","true","maxlength","20",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter Phone Number","data-mdb-showcounter","true","maxlength","20",1,"form-control",3,"ngModel","ngModelChange"],["aria-label","Default select example",1,"form-select",3,"ngModel","ngModelChange"],["SelectRole","ngModel"],["value","undefined","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["name","accountType","required","",1,"form-select",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter ID Number","data-mdb-showcounter","true","maxlength","20",1,"form-control",3,"ngModel","ngModelChange"],["name","proofOfIdentification","required","",1,"form-select",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),e._uU(4,"accounts"),e.qZA()(),e.TgZ(5,"div",3)(6,"button",4),e.NdJ("click",function(){return n.openAddEditModal(null)}),e._uU(7,"Add account"),e.qZA()()(),e.TgZ(8,"div",1)(9,"div",5)(10,"table",6)(11,"thead")(12,"tr")(13,"th"),e._uU(14,"Full Name"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Fathers Name"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Mothers Name"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"D-O-B"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Country"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"State"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"City"),e.qZA(),e.TgZ(27,"th"),e._uU(28,"Address"),e.qZA(),e.TgZ(29,"th"),e._uU(30,"Pin Code"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"Phone Number"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"Education"),e.qZA(),e.TgZ(35,"th"),e._uU(36,"Id No."),e.qZA(),e.TgZ(37,"th"),e._uU(38,"Account Type"),e.qZA(),e.TgZ(39,"th",7),e._uU(40,"Actions"),e.qZA()()(),e.TgZ(41,"tbody"),e.YNc(42,M,34,16,"tr",8),e.qZA()()()()(),e.TgZ(43,"div",9)(44,"div",10)(45,"div",11)(46,"div",12)(47,"div",13)(48,"h5"),e._uU(49," Add Account "),e.qZA()(),e.TgZ(50,"button",14),e.NdJ("click",function(){return n.closePopup()}),e.qZA()(),e.TgZ(51,"div",15)(52,"div",1)(53,"div",16)(54,"div",17)(55,"input",18),e.NdJ("ngModelChange",function(c){return n.viewModel.accountsObj.fullName=c}),e.qZA()()(),e.TgZ(56,"div",16)(57,"div",17)(58,"input",19),e.NdJ("ngModelChange",function(c){return n.viewModel.accountsObj.fathersName=c}),e.qZA()()(),e.TgZ(59,"div",16)(60,"div",17)(61,"input",20),e.NdJ("ngModelChange",function(c){return n.viewModel.accountsObj.mothersName=c}),e.qZA()()(),e.TgZ(62,"div",16)(63,"div",17)(64,"input",21),e.NdJ("ngModelChange",function(c){return n.viewModel.accountsObj.country=c}),e.qZA()()(),e.TgZ(65,"div",16)(66,"div",17)(67,"input",22),e.NdJ("ngModelChange",function(c){return n.viewModel.accountsObj.state=c}),e.qZA()()(),e.TgZ(68,"div",16)(69,"div",17)(70,"input",23),e.NdJ("ngModelChange",function(c){return n.viewModel.accountsObj.city=c}),e.qZA()()(),e.TgZ(71,"div",16)(72,"div",17)(73,"input",24),e.NdJ("ngModelChange",function(c){return n.viewModel.accountsObj.address=c}),e.qZA()()(),e.TgZ(74,"div",16)(75,"div",17)(76,"input",25),e.NdJ("ngModelChange",function(c){return n.viewModel.accountsObj.pincode=c}),e.qZA()()(),e.TgZ(77,"div",16)(78,"div",17)(79,"input",26),e.NdJ("ngModelChange",function(c){return n.viewModel.accountsObj.dob=c}),e.qZA()()(),e.TgZ(80,"div",16)(81,"div",17)(82,"input",27),e.NdJ("ngModelChange",function(c){return n.viewModel.accountsObj.phoneNumber=c}),e.qZA()()(),e.TgZ(83,"div",16)(84,"div",17)(85,"select",28,29),e.NdJ("ngModelChange",function(c){return n.viewModel.accountsObj.educationLevel=c}),e.TgZ(87,"option",30),e._uU(88,"Education Level"),e.qZA(),e.YNc(89,_,2,2,"option",31),e.qZA()()(),e.TgZ(90,"div",16)(91,"div",17)(92,"select",32),e.NdJ("ngModelChange",function(c){return n.viewModel.accountsObj.accountType=c}),e.TgZ(93,"option",30),e._uU(94,"Choose Account Type"),e.qZA(),e.YNc(95,A,2,2,"option",31),e.qZA()()(),e.TgZ(96,"div",16)(97,"div",17)(98,"input",33),e.NdJ("ngModelChange",function(c){return n.viewModel.accountsObj.idNumber=c}),e.qZA()()(),e.TgZ(99,"div",16)(100,"div",17)(101,"select",34),e.NdJ("ngModelChange",function(c){return n.viewModel.accountsObj.proofOfIdentification=c}),e.TgZ(102,"option",30),e._uU(103,"Prof Identification"),e.qZA(),e.YNc(104,v,2,2,"option",31),e.qZA()()()(),e.TgZ(105,"div",35)(106,"button",36),e.NdJ("click",function(){return n.saveAccount()}),e._uU(107,"Save me"),e.qZA()()()()()()),2&t&&(e.xp6(42),e.Q6J("ngForOf",n.viewModel.accountsListL),e.xp6(1),e.Q6J("ngStyle",e.VKq(19,Z,n.viewModel.displayStyle)),e.xp6(12),e.Q6J("ngModel",n.viewModel.accountsObj.fullName),e.xp6(3),e.Q6J("ngModel",n.viewModel.accountsObj.fathersName),e.xp6(3),e.Q6J("ngModel",n.viewModel.accountsObj.mothersName),e.xp6(3),e.Q6J("ngModel",n.viewModel.accountsObj.country),e.xp6(3),e.Q6J("ngModel",n.viewModel.accountsObj.state),e.xp6(3),e.Q6J("ngModel",n.viewModel.accountsObj.city),e.xp6(3),e.Q6J("ngModel",n.viewModel.accountsObj.address),e.xp6(3),e.Q6J("ngModel",n.viewModel.accountsObj.pincode),e.xp6(3),e.Q6J("ngModel",n.viewModel.accountsObj.dob),e.xp6(3),e.Q6J("ngModel",n.viewModel.accountsObj.phoneNumber),e.xp6(3),e.Q6J("ngModel",n.viewModel.accountsObj.educationLevel),e.xp6(4),e.Q6J("ngForOf",n.viewModel.listOfIdProofType),e.xp6(3),e.Q6J("ngModel",n.viewModel.accountsObj.accountType),e.xp6(3),e.Q6J("ngForOf",n.viewModel.listOfAccountType),e.xp6(3),e.Q6J("ngModel",n.viewModel.accountsObj.idNumber),e.xp6(3),e.Q6J("ngModel",n.viewModel.accountsObj.proofOfIdentification),e.xp6(3),e.Q6J("ngForOf",n.viewModel.listOfEducationLevelType))},dependencies:[a.sg,a.PC,i.YN,i.Kr,i.Fj,i.EJ,i.JJ,i.Q7,i.nD,i.On,a.uU],styles:[".table-container[_ngcontent-%COMP%]{width:1000px;overflow:scroll;height:420px}.table[_ngcontent-%COMP%]{width:100%;table-layout:scroll;border:solid rgb(107,201,255) 2px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid rgb(223,238,241);padding:8px;color:#f0f8ff}thead[_ngcontent-%COMP%]{width:100%;top:80;background:rgb(39,76,127);z-index:1}"]}),o})()}];let f=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[g.Bz.forChild(b),g.Bz]}),o})(),C=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[a.ez,f,i.u5]}),o})()}}]);
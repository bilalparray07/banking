"use strict";(self.webpackChunkloans_ui=self.webpackChunkloans_ui||[]).push([[496],{8496:(R,p,s)=>{s.r(p),s.d(p,{UserLoanModule:()=>F});var c=s(6895),u=s(2045),g=s(3701),m=s(8462),n=s(8256),b=s(262),M=s(2843),v=s(529);let _=(()=>{class e{constructor(o){this.http=o,this.apiUrl="https://banking-cdy3.vercel.app/app/v1/loan"}createLoanRequest(o){return this.http.post(`${this.apiUrl}`,o).pipe((0,b.K)(t=>(console.error("Error creating loan request:",t),(0,M._)("An error occurred while creating the loan request."))))}}return e.\u0275fac=function(o){return new(o||e)(n.LFG(v.eN))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var h=s(9703),r=s(433);function O(e,a){if(1&e&&(n.TgZ(0,"div",34),n._uU(1),n.qZA()),2&e){const o=n.oxw().$implicit;n.xp6(1),n.hij(" ",o.message," ")}}function j(e,a){if(1&e&&(n.TgZ(0,"div"),n.YNc(1,O,2,1,"div",33),n.qZA()),2&e){const o=a.$implicit,t=n.oxw(),i=n.MAs(17);n.xp6(1),n.Q6J("ngIf",(i.touched||t.loansVMObj.formSubmitted)&&i.hasError(o.type))}}function f(e,a){if(1&e&&(n.TgZ(0,"div",34),n._uU(1),n.qZA()),2&e){const o=n.oxw().$implicit;n.xp6(1),n.hij(" ",o.message," ")}}function T(e,a){if(1&e&&(n.TgZ(0,"div"),n.YNc(1,f,2,1,"div",33),n.qZA()),2&e){const o=a.$implicit,t=n.oxw(),i=n.MAs(22);n.xp6(1),n.Q6J("ngIf",(i.touched||t.loansVMObj.formSubmitted)&&i.hasError(o.type))}}function Z(e,a){if(1&e&&(n.TgZ(0,"div",34),n._uU(1),n.qZA()),2&e){const o=n.oxw().$implicit;n.xp6(1),n.hij(" ",o.message," ")}}function L(e,a){if(1&e&&(n.TgZ(0,"div"),n.YNc(1,Z,2,1,"div",33),n.qZA()),2&e){const o=a.$implicit,t=n.oxw(),i=n.MAs(37);n.xp6(1),n.Q6J("ngIf",(i.touched||t.loansVMObj.formSubmitted)&&i.hasError(o.type))}}function C(e,a){if(1&e&&(n.TgZ(0,"div",34),n._uU(1),n.qZA()),2&e){const o=n.oxw().$implicit;n.xp6(1),n.hij(" ",o.message," ")}}function V(e,a){if(1&e&&(n.TgZ(0,"div"),n.YNc(1,C,2,1,"div",33),n.qZA()),2&e){const o=a.$implicit,t=n.oxw(),i=n.MAs(42);n.xp6(1),n.Q6J("ngIf",(i.touched||t.loansVMObj.formSubmitted)&&i.hasError(o.type))}}function U(e,a){if(1&e&&(n.TgZ(0,"option",35),n._uU(1),n.qZA()),2&e){const o=a.$implicit;n.Q6J("value",o),n.xp6(1),n.Oqu(o)}}function D(e,a){if(1&e&&(n.TgZ(0,"div",34),n._uU(1),n.qZA()),2&e){const o=n.oxw().$implicit;n.xp6(1),n.hij(" ",o.message," ")}}function A(e,a){if(1&e&&(n.TgZ(0,"div"),n.YNc(1,D,2,1,"div",33),n.qZA()),2&e){const o=a.$implicit,t=n.oxw(),i=n.MAs(47);n.xp6(1),n.Q6J("ngIf",(i.touched||t.loansVMObj.formSubmitted)&&i.hasError(o.type))}}function q(e,a){if(1&e&&(n.TgZ(0,"option",35),n._uU(1),n.qZA()),2&e){const o=a.$implicit;n.Q6J("value",o),n.xp6(1),n.Oqu(o)}}function x(e,a){if(1&e&&(n.TgZ(0,"div",34),n._uU(1),n.qZA()),2&e){const o=n.oxw().$implicit;n.xp6(1),n.hij(" ",o.message," ")}}function y(e,a){if(1&e&&(n.TgZ(0,"div"),n.YNc(1,x,2,1,"div",33),n.qZA()),2&e){const o=a.$implicit,t=n.oxw(),i=n.MAs(55);n.xp6(1),n.Q6J("ngIf",(i.touched||t.loansVMObj.formSubmitted)&&i.hasError(o.type))}}function J(e,a){if(1&e&&(n.TgZ(0,"div",34),n._uU(1),n.qZA()),2&e){const o=n.oxw().$implicit;n.xp6(1),n.hij(" ",o.message," ")}}function N(e,a){if(1&e&&(n.TgZ(0,"div"),n.YNc(1,J,2,1,"div",33),n.qZA()),2&e){const o=a.$implicit,t=n.oxw(),i=n.MAs(63);n.xp6(1),n.Q6J("ngIf",(i.touched||t.loansVMObj.formSubmitted)&&i.hasError(o.type))}}const S=[{path:"",component:(()=>{class e{constructor(o,t,i){this.userLoanService=o,this.commonService=t,this.router=i,this.loansVMObj=new g.f}ngOnInit(){this.loansVMObj.listOfColateralls=this.commonService.EnumToStringArray(m.Qb),this.loansVMObj.listOfLoantypes=this.commonService.EnumToStringArray(m.am)}generateLoanNumber(){this.loansVMObj.loanDataObj.loanNumber=Math.floor(1e9+9e9*Math.random()).toString(),this.loansVMObj.isLoanNumberGenerated=!0}convertStringToEnum(o){return m.am[o]}calculateInterest(){switch(this.loansVMObj.loanDataObj.loanType.toString()){case"PersonalLoan":this.loansVMObj.loanDataObj.interestRate=10*this.loansVMObj.loanDataObj.amount*this.loansVMObj.loanDataObj.term/100;break;case"HomeLoan":this.loansVMObj.loanDataObj.interestRate=9*this.loansVMObj.loanDataObj.amount*this.loansVMObj.loanDataObj.term/100;break;case"Business":this.loansVMObj.loanDataObj.interestRate=8*this.loansVMObj.loanDataObj.amount*this.loansVMObj.loanDataObj.term/100;break;case"AutoLoan":this.loansVMObj.loanDataObj.interestRate=11*this.loansVMObj.loanDataObj.amount*this.loansVMObj.loanDataObj.term/100;break;case"EducationLoan":this.loansVMObj.loanDataObj.interestRate=6*this.loansVMObj.loanDataObj.amount*this.loansVMObj.loanDataObj.term/100;break;case"Other":this.loansVMObj.loanDataObj.interestRate=13*this.loansVMObj.loanDataObj.amount*this.loansVMObj.loanDataObj.term/100}this.loansVMObj.isInterestGenerated=!0}createLoanRequest(o){this.loansVMObj.formSubmitted=!0;try{if(o.invalid)return void alert("Fill All Required Fields");this.loansVMObj.loanDataObj.status="pending",this.userLoanService.createLoanRequest(this.loansVMObj.loanDataObj).subscribe(t=>{alert("Loan Request Sent SuccessFully"),this.router.navigate(["/home"])},t=>{console.error("Error creating loan request:",t)})}catch(t){console.error("Error creating loan request:",t)}}}return e.\u0275fac=function(o){return new(o||e)(n.Y36(_),n.Y36(h.R),n.Y36(u.F0))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-user-loan"]],decls:68,vars:19,consts:[[1,"container-fluid"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","p-5"],[1,"card"],[1,"card-header","text-center"],[1,"card-body"],["userLoanRequestForm","ngForm"],[1,"col-lg-6","col-md-6","col-sm-6","p-2"],["type","text","placeholder","Loan Number","name","loanNumber","data-mdb-showcounter","true","maxlength","20",1,"form-control",3,"ngModel","disabled","ngModelChange","click"],[1,"form-outline"],["type","text","placeholder","Enter Amount","data-mdb-showcounter","true","required","","pattern","^\\d{1,15}$","maxlength","15","name","amount",1,"form-control",3,"ngModel","ngModelChange"],["amount","ngModel"],[4,"ngFor","ngForOf"],["aria-label","Default select example","required","","name","term",1,"form-select",3,"ngModel","ngModelChange"],["term","ngModel"],["value","undefined","disabled","","selected",""],["value","1"],["value","2"],["value","3"],["value","4"],["type","date","placeholder","Enter Start Date","data-mdb-showcounter","true","required","","name","startDate",1,"form-control",3,"ngModel","ngModelChange"],["startDate","ngModel"],["type","date","placeholder","End Date","data-mdb-showcounter","true","required","","name","endDate",1,"form-control",3,"ngModel","ngModelChange"],["endDate","ngModel"],["aria-label","Default select example","required","","name","loanType",1,"form-select",3,"ngModel","ngModelChange"],["loanType","ngModel"],[3,"value",4,"ngFor","ngForOf"],["aria-label","Default select example","required","","name","collateral",1,"form-select",3,"ngModel","ngModelChange"],["collateral","ngModel"],["type","text","placeholder","Interest Rate","data-mdb-showcounter","true","required","","name","interestRate","minlength","1","maxlength","13",1,"form-control",3,"ngModel","readonly","ngModelChange","click"],["interestRate","ngModel"],[1,"col-lg-12","col-md-12","col-sm-12","text-end"],[1,"btn","btn-primary",3,"click"],["class","text-danger validationMsg",4,"ngIf"],[1,"text-danger","validationMsg"],[3,"value"]],template:function(o,t){if(1&o){const i=n.EpF();n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"b")(6,"h5"),n._uU(7,"Loan Request"),n.qZA()()(),n.TgZ(8,"div",5)(9,"form",null,6)(11,"div",1)(12,"div",7)(13,"input",8),n.NdJ("ngModelChange",function(l){return t.loansVMObj.loanDataObj.loanNumber=l})("click",function(){return t.generateLoanNumber()}),n.qZA()(),n.TgZ(14,"div",7)(15,"div",9)(16,"input",10,11),n.NdJ("ngModelChange",function(l){return t.loansVMObj.loanDataObj.amount=l}),n.qZA(),n.YNc(18,j,2,1,"div",12),n.qZA()(),n.TgZ(19,"div",7)(20,"div",9)(21,"select",13,14),n.NdJ("ngModelChange",function(l){return t.loansVMObj.loanDataObj.term=l}),n.TgZ(23,"option",15),n._uU(24,"Duration In Months"),n.qZA(),n.TgZ(25,"option",16),n._uU(26,"12 Months"),n.qZA(),n.TgZ(27,"option",17),n._uU(28,"24 Months"),n.qZA(),n.TgZ(29,"option",18),n._uU(30,"36 Months"),n.qZA(),n.TgZ(31,"option",19),n._uU(32,"48 Months"),n.qZA()(),n.YNc(33,T,2,1,"div",12),n.qZA()(),n.TgZ(34,"div",7)(35,"div",9)(36,"input",20,21),n.NdJ("ngModelChange",function(l){return t.loansVMObj.loanDataObj.startDate=l}),n.qZA(),n.YNc(38,L,2,1,"div",12),n.qZA()(),n.TgZ(39,"div",7)(40,"div",9)(41,"input",22,23),n.NdJ("ngModelChange",function(l){return t.loansVMObj.loanDataObj.endDate=l}),n.qZA(),n.YNc(43,V,2,1,"div",12),n.qZA()(),n.TgZ(44,"div",7)(45,"div",9)(46,"select",24,25),n.NdJ("ngModelChange",function(l){return t.loansVMObj.loanDataObj.loanType=l}),n.TgZ(48,"option",15),n._uU(49,"Select Loan type"),n.qZA(),n.YNc(50,U,2,2,"option",26),n.qZA(),n.YNc(51,A,2,1,"div",12),n.qZA()(),n.TgZ(52,"div",7)(53,"div",9)(54,"select",27,28),n.NdJ("ngModelChange",function(l){return t.loansVMObj.loanDataObj.collateral=l}),n.TgZ(56,"option",15),n._uU(57,"Select Collateral/Mortgage"),n.qZA(),n.YNc(58,q,2,2,"option",26),n.qZA(),n.YNc(59,y,2,1,"div",12),n.qZA()(),n.TgZ(60,"div",7)(61,"div",9)(62,"input",29,30),n.NdJ("ngModelChange",function(l){return t.loansVMObj.loanDataObj.interestRate=l})("click",function(){return t.calculateInterest()}),n.qZA(),n.YNc(64,N,2,1,"div",12),n.qZA()(),n.TgZ(65,"div",31)(66,"button",32),n.NdJ("click",function(){n.CHM(i);const l=n.MAs(10);return n.KtG(t.createLoanRequest(l))}),n._uU(67,"Submit"),n.qZA()()()()()()()()()}2&o&&(n.xp6(13),n.Q6J("ngModel",t.loansVMObj.loanDataObj.loanNumber)("disabled",t.loansVMObj.isLoanNumberGenerated),n.xp6(3),n.Q6J("ngModel",t.loansVMObj.loanDataObj.amount),n.xp6(2),n.Q6J("ngForOf",t.loansVMObj.validations.amount),n.xp6(3),n.Q6J("ngModel",t.loansVMObj.loanDataObj.term),n.xp6(12),n.Q6J("ngForOf",t.loansVMObj.validations.term),n.xp6(3),n.Q6J("ngModel",t.loansVMObj.loanDataObj.startDate),n.xp6(2),n.Q6J("ngForOf",t.loansVMObj.validations.startDate),n.xp6(3),n.Q6J("ngModel",t.loansVMObj.loanDataObj.endDate),n.xp6(2),n.Q6J("ngForOf",t.loansVMObj.validations.endDate),n.xp6(3),n.Q6J("ngModel",t.loansVMObj.loanDataObj.loanType),n.xp6(4),n.Q6J("ngForOf",t.loansVMObj.listOfLoantypes),n.xp6(1),n.Q6J("ngForOf",t.loansVMObj.validations.loanType),n.xp6(3),n.Q6J("ngModel",t.loansVMObj.loanDataObj.collateral),n.xp6(4),n.Q6J("ngForOf",t.loansVMObj.listOfColateralls),n.xp6(1),n.Q6J("ngForOf",t.loansVMObj.validations.collateral),n.xp6(3),n.Q6J("ngModel",t.loansVMObj.loanDataObj.interestRate)("readonly",t.loansVMObj.isInterestGenerated),n.xp6(2),n.Q6J("ngForOf",t.loansVMObj.validations.interestRate))},dependencies:[c.sg,c.O5,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.Q7,r.wO,r.nD,r.c5,r.On,r.F],styles:["input[_ngcontent-%COMP%]:invalid{border:2px solid red}"]}),e})()}];let Q=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[u.Bz.forChild(S),u.Bz]}),e})(),F=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[c.ez,Q,r.u5]}),e})()}}]);